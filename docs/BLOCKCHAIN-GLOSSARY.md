# 区块链术语词汇表 (Blockchain Glossary)

> **版本**: 1.2 (v2.5 增强版 - 最终版)
> **更新日期**: 2025-12-26
> **来源**: `NETWORK-Topology-Mapping-v2.0.md` 及社区建议

---

本词汇表旨在解释 Hyperledger Fabric v2.5 LTS 中的核心技术术语，以帮助理解网络拓扑设计、交易流程与治理模型。

## 核心概念

### Organization (组织)
- **定义**: 由 MSP 定义的一组实体（Peer、用户、管理员等），代表网络中的一个参与方。
- **作用**: 以组织为单位加入通道，支持多组织协作和权限隔离。

### MSP (Membership Service Provider / 成员服务提供者)
- **定义**: Fabric 中用于定义组织身份和规则的组件。它将证书（由 CA 颁发）映射到网络中的角色和权限。
- **作用**: 验证交易签名，确定一个成员属于哪个组织，以及该成员在该组织中拥有什么权限（如管理员、客户端）。

### Raft Consensus (Raft 共识)
- **定义**: 一种在分布式系统中就状态达成一致的共识算法。在 Fabric 中，它由 Orderer 节点集群使用。
- **作用**: 负责对交易进行排序，并将排序后的交易打包成区块。Raft 是一种基于领导者的崩溃容错（CFT）算法，只要集群中大多数（N/2+1）节点存活，就能保证网络正常运行。

### Byzantine Fault Tolerance (BFT / 拜占庭容错)
- **定义**: 一种系统属性，能够容忍部分节点出现任意形式的错误（包括恶意行为或谎报信息），同时仍能保证整个系统达成共识。
- **说明**: Fabric 的 Raft 共识是崩溃容错（CFT），而不是拜占庭容错（BFT）。这意味着它假设节点只会宕机，而不会恶意行动。对于大多数企业应用场景，CFT 已足够。

### Channel (通道)
- **定义**: Fabric 中的一个“子网络”，用于在特定的组织成员之间提供私密的通信和交易隔离。
- **作用**: 每个通道都有自己独立的账本。不在通道内的组织无法看到该通道上的任何数据。这使得多个业务方可以在同一个 Fabric 网络中运行，但数据相互隔离。

## 账本结构 (Ledger)

### Ledger (账本)
- **定义**: 每个通道独立的分布式账本，由区块链（Block Chain）和世界状态（World State）两部分组成。
- **作用**: 区块链部分记录所有交易的不可变历史序列；世界状态部分维护当前键值对的最新值，便于链码高效查询。

### World State (世界状态)
- **定义**: 账本的当前状态数据库，通常使用 LevelDB（默认）或 CouchDB（支持富查询）存储。
- **作用**: 链码执行时直接读写世界状态，而非遍历整个区块链，提高查询效率。

### Block (区块)
- **定义**: Orderer 排序并打包的一组交易，包括区块头、交易数据和元数据。
- **作用**: 区块被广播到 Peer 节点，用于追加到本地账本，确保所有节点账本一致。

### Genesis Block (创世区块)
- **定义**: 通道的第一个区块（也是第一个配置区块），用于初始化通道。
- **作用**: 定义通道的初始配置，包括成员组织、MSP、背书策略、共识类型等。所有后续配置更新都基于它。

## 交易流程

### Endorsement Policy (背书策略)
- **定义**: 指定哪些组织或 Peer 必须对交易提案进行背书（签名）才能使交易有效。
- **作用**: 可在链码级别或通道级别定义（如 `“AND('Org1MSP.peer', 'Org2MSP.peer')”`），确保交易获得多方信任。在 v2.x 的新链码生命周期中，支持更灵活的组织级策略。

### Transaction Proposal (交易提案)
- **定义**: 客户端向背书节点发送的链码调用请求，包含函数名和参数。
- **作用**: 触发背书节点模拟执行，返回读写集和签名。

### Read-Write Set (读写集 / RW Set)
- **定义**: 交易模拟执行时产生的读取键版本号和写入键值变化。
- **作用**: 在提交阶段用于 MVCC（多版本并发控制）验证，防止并发冲突。

### Chaincode Lifecycle (链码生命周期)
- **定义**: v2.x 引入的新链码管理模型，需要多组织批准并提交链码定义后才能实例化。
- **作用**: 增强去中心化治理，避免单一组织强制部署链码，支持组织级背书策略。

## 节点角色

### Peer (节点)
- **定义**: Fabric 网络中的基本组成部分，负责存储账本和链码。
- **分类**: Peer 节点可以扮演不同的角色，如背书节点、提交节点和锚节点。

#### Endorsing Peer (背书节点)
- **定义**: 负责执行链码并对交易提案进行“背书”（签名）的 Peer 节点。
- **作用**: 客户端将交易提案发送给背书节点，背书节点模拟执行链码并返回带有签名的读写集。

#### Committing Peer (提交节点)
- **定义**: 负责验证区块中的交易并将区块追加到其本地账本的 Peer 节点。
- **作用**: 所有 Peer 节点都是提交节点。它们接收来自 Orderer 的区块，并验证其中的每笔交易是否满足背书策略且未发生状态冲突。

#### Anchor Peer (锚节点)
- **定义**: 在通道配置中为每个组织指定的、可被其他组织发现的 Peer 节点。
- **作用**: 使得不同组织间的 Peer 节点可以通过 Gossip 协议相互发现和通信，实现跨组织的状态同步。

### Orderer (排序节点)
- **定义**: 负责接收来自客户端的已背书交易，对交易进行排序，并将它们打包成区块广播给所有 Peer 节点的组件。
- **作用**: 提供共识服务，确保所有 Peer 节点上的账本状态最终一致。

## 配置与治理 (v2.5 重点)

### Channel Configuration (通道配置)
- **定义**: 存储在配置区块中的通道元数据，包括成员组织、MSP、策略和能力（Capabilities）。能力级别包括 V2_0、V2_5 等，用于启用新功能并确保节点兼容性。
- **作用**: 通过配置交易更新通道（如添加组织、修改策略）。创世区块即第一个配置区块。

### Policy (策略)
- **定义**: 通道或链码级别的访问控制规则（如 Majority、All、ImplicitMeta）。
- **作用**: 控制配置修改、背书、读写等权限，实现治理。

### Channel without System Channel (无系统通道的通道管理)
- **定义**: 从 v2.3 开始支持的通道创建方式，无需依赖 Orderer 的系统通道（System Channel）。
- **作用**: 提升隐私（Orderer 无需知晓所有通道配置）和可扩展性，使用 Channel Participation API 直接管理 Orderer 对通道的加入/离开。v2.5 中推荐使用此方式。

### Ledger Snapshot (账本快照)
- **定义**: Peer 节点对当前账本的完整快照文件。
- **作用**: 新 Peer 可基于快照快速加入通道，而无需从创世区块同步整个账本，适用于大规模网络拓扑扩展。

## 数据与通信

### Chaincode (链码)
- **定义**: Fabric 中的智能合约，用 Go、Node.js 或 Java 等语言编写，用于封装业务逻辑。
- **作用**: 在 Peer 节点上运行，用于访问和修改账本状态。

### Gossip Protocol (Gossip 协议)
- **定义**: 一种去中心化的通信协议，Peer 节点通过它来交换信息。
- **作用**:
  1.  **账本同步**: 帮助同一组织内落后 Peer 从其他 Peer 拉取缺失区块。
  2.  **跨组织发现与通信**: 通过锚节点实现组织间 Peer 发现和建立连接。
  3.  **私有数据分发**: 将私有数据直接 P2P 分发给授权 Peer，而不经过 Orderer。

### Private Data Collections (PDC / 私有数据集合)
- **定义**: 在通道内实现数据隐私保护的功能，允许部分组织私下存储和交易数据。
- **作用**: 私有数据仅存储在授权组织的 Peer 节点上。账本上只保留数据的哈希值作为证据，从而在保护隐私的同时保证数据的可追溯性。

## 应用交互

### Fabric Gateway (Fabric 网关)
- **定义**: v2.5 引入的新客户端网关服务，简化应用与网络交互。
- **作用**: 客户端无需自行收集背书和提交交易，网关代为处理，提高开发效率。

### Client/SDK (客户端 / 应用 SDK)
- **定义**: 外部应用使用 Fabric SDK（Go、Node.js、Java 等）与网络交互。
- **作用**: 负责提交交易提案、收集背书并发送给 Orderer。

## 安全与身份

### Certificate Authority (CA / 证书颁发机构)
- **定义**: 负责颁发和管理数字证书（Identity）的实体。Fabric 提供内置的 Fabric CA 组件作为默认实现，也支持外部 CA。
- **作用**: 为所有网络实体（用户、Peer、Orderer 等）颁发 X.509 证书，以证明其身份。

### TLS (Transport Layer Security / 传输层安全协议)
- **定义**: 一种加密协议，用于在网络通信中提供安全保障。
- **作用**: Fabric 中的所有通信都应启用 TLS，以防止窃听和中间人攻击。

### Certificate Revocation List (CRL / 证书吊销列表)
- **定义**: 由 CA 发布的一个列表，其中包含了已被吊销（即不再受信任）的证书序列号。
- **作用**: 防止已泄露或作废的证书被用于访问网络，是保障网络安全的重要机制。
